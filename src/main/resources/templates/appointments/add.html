<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org/">
<head th:replace="fragments :: head">
</head>
<body class="container  body-content">

<nav th:replace="fragments :: page-header"></nav>
<h1>Add Appointment</h1>

<form method="post" style="max-width:600px;">
    <div class="form-group">
        <label th:for="title">Appointment Name</label>
        <input class="form-control" th:field="${appointment.title}" />
        <span th:errors="${appointment.title}" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label th:for="appointmentTypes">Type</label>
        <select multiple
                th:field="${appointment.appointmentTypes}">
            <option th:each="type : ${apptTypes}"
                    th:text="${type.name + '- ' + type.longDescription}"
                    th:value="${type.id}"></option>
        </select>
        <span th:errors="${appointment.appointmentTypes}" class="text-danger"></span>
    </div>

    <div class="container">
        <div class="col-xs-6">
            <div class="form-group">
                <label th:for="start">Appointment Start Date</label>
                <input type="datetime-local" class="form-control datetimepicker-input"
                       th:field="${appointment.start}"/>
            </div>
        </div>
        <div class="col-sm-6">
            <div class="form-group">
                <label th:for="end">Appointment End Date</label>
                <input type="datetime-local" class="form-control datetimepicker-input"
                       th:field="${appointment.end}"/>
            </div>
        </div>
        <span th:errors="${appointment.start}" class="text-danger"></span>
        <span th:errors="${appointment.end}" class="text-danger"></span>
    </div>
    <script type="text/javascript">
        function() {
            $('#dateTimeStart').datetimepicker();
            $('#dateTimeEnd').datetimepicker({
                useCurrent: false
            });
            $("#dateTimeEnd").on("dp.change", function (e) {
                $('dateTimeStart').data("DateTimePicker").maxDate(e.date);
            });
        };
    </script>


    <div class="form-group">
        <label th:for="location">Appointment Location</label>
        <input class="form-control" th:field="${appointment.location}" />
        <span th:errors="${appointment.location}" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label th:for="vehicle">Vehicle</label>
        <select th:field="${appointment.vehicle}">
            <option th:each="vehicle : ${vehicles}"
                    th:text="${vehicle.name}"
                    th:value="${vehicle.id}"></option>
        </select>
        <span th:errors="${appointment.vehicle}" class="text-danger"></span>
    </div>

    <input type="submit" value="Add Appointment" />
</form>


<div th:replace="fragments :: page-footer"></div>
</body>
</html>
